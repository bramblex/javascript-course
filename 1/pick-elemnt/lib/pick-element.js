/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// create css\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction css(code) {\r\n    const style = document.createElement('style');\r\n    style.type = 'text/css';\r\n    style.innerHTML = code;\r\n    document.head.appendChild(style);\r\n    return style;\r\n}\r\nexports.css = css;\r\nfunction box(id) {\r\n    const div = document.createElement('div');\r\n    div.id = id;\r\n    document.body.appendChild(div);\r\n    return div;\r\n}\r\nexports.box = box;\r\nfunction wait(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\nexports.wait = wait;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdXRpbHMudHM/ZTE0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIGNyZWF0ZSBjc3NcblxuZXhwb3J0IGZ1bmN0aW9uIGNzcyhjb2RlOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJ1xuICBzdHlsZS5pbm5lckhUTUwgPSBjb2RlXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpXG4gIHJldHVybiBzdHlsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm94KGlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGRpdi5pZCA9IGlkXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KVxuICByZXR1cm4gZGl2XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWl0KG1zOiBudW1iZXIpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3V0aWxzLnRzIl0sIm1hcHBpbmdzIjoiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst simple_vm_1 = __webpack_require__(/*! ./simple-vm */ 2);\r\nconst element_picker_1 = __webpack_require__(/*! ./element-picker */ 3);\r\nconst utils_1 = __webpack_require__(/*! ./utils */ 0);\r\nfunction test() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n    });\r\n}\r\nconst id = 'element-picker-box';\r\nconst ui = utils_1.box(id);\r\nconst style = utils_1.css(`\n#${id} {\n  position: fixed;\n  right: 0;\n  / *top: ${window.innerHeight / 2}px; */\n  z-index: 10000;\n  bottom: 20px;\n}\n\n#${id} .button {\n  line-height: 0.8em;\n  color: #FFF;\n  height: 1em;\n  width: 1em;\n  background-color: red;\n  position: absolute;\n  right: 0;\n  text-align: center;\n  border-radius: 0.3em;\n}\n\n#${id} .content {\n  padding: 0.5em 1em;\n  background-color: #EFEFEF;\n}\n\n#${id} .hidden {\n  display: none;\n}\n`);\r\n// init UI\r\nexports.vm = new simple_vm_1.SimpleVM({\r\n    el: ui,\r\n    data: {\r\n        title: '元素捕获器',\r\n        list: [],\r\n        mini_size: true\r\n    },\r\n    funcs: {\r\n        toggle: (vm) => {\r\n            vm.modify(data => {\r\n                if (data.mini_size) {\r\n                    data.mini_size = false;\r\n                }\r\n                else {\r\n                    data.mini_size = true;\r\n                }\r\n            });\r\n        },\r\n        pickElement: (vm) => __awaiter(this, void 0, void 0, function* () {\r\n            vm.modify(data => {\r\n                data.mini_size = true;\r\n            });\r\n            const path = yield element_picker_1.pickElementByClick();\r\n            vm.modify(data => {\r\n                data.list.push(path);\r\n                data.mini_size = false;\r\n            });\r\n        })\r\n    },\r\n    template: data => `\n    <div class=\"button\" data-on-click=\"toggle\">${data.mini_size ? '+' : '-'}</div>\n    <div class=\"content ${data.mini_size ? 'hidden' : ''}\">\n      <h2>${data.title}</h2>\n        <button data-on-click=\"pickElement\">捕获元素</button>\n      <ul>\n        ${data.list.map(item => `<li>${item}</li>`).join('')}\n      </ul>\n    </div>\n  `\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXgudHM/ZjQxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IHsgU2ltcGxlVk0gfSBmcm9tICcuL3NpbXBsZS12bSdcbmltcG9ydCB7IGdldEVsZW1lbnRGcm9tUGF0aCwgcGlja0VsZW1lbnRCeUNsaWNrfSBmcm9tICcuL2VsZW1lbnQtcGlja2VyJ1xuaW1wb3J0IHsgYm94LCBjc3MgfSBmcm9tICcuL3V0aWxzJ1xuXG5hc3luYyBmdW5jdGlvbiB0ZXN0KCkge1xufVxuXG5jb25zdCBpZCA9ICdlbGVtZW50LXBpY2tlci1ib3gnXG5jb25zdCB1aSA9IGJveChpZClcblxuY29uc3Qgc3R5bGUgPSBjc3MoYFxuIyR7aWR9IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICByaWdodDogMDtcbiAgLyAqdG9wOiAke3dpbmRvdy5pbm5lckhlaWdodCAvIDJ9cHg7ICovXG4gIHotaW5kZXg6IDEwMDAwO1xuICBib3R0b206IDIwcHg7XG59XG5cbiMke2lkfSAuYnV0dG9uIHtcbiAgbGluZS1oZWlnaHQ6IDAuOGVtO1xuICBjb2xvcjogI0ZGRjtcbiAgaGVpZ2h0OiAxZW07XG4gIHdpZHRoOiAxZW07XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiAwLjNlbTtcbn1cblxuIyR7aWR9IC5jb250ZW50IHtcbiAgcGFkZGluZzogMC41ZW0gMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUZFRkVGO1xufVxuXG4jJHtpZH0gLmhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5gKVxuXG4vLyBpbml0IFVJXG5cbmV4cG9ydCBjb25zdCB2bSA9IG5ldyBTaW1wbGVWTSh7XG4gIGVsOiB1aSxcbiAgZGF0YToge1xuICAgIHRpdGxlOiAn5YWD57Sg5o2V6I635ZmoJyxcbiAgICBsaXN0OiBbXSxcbiAgICBtaW5pX3NpemU6IHRydWVcbiAgfSxcbiAgZnVuY3M6IHtcbiAgICB0b2dnbGU6ICh2bSkgPT4ge1xuICAgICAgdm0ubW9kaWZ5KGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS5taW5pX3NpemUpIHtcbiAgICAgICAgICBkYXRhLm1pbmlfc2l6ZSA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5taW5pX3NpemUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBwaWNrRWxlbWVudDogYXN5bmMgKHZtKSA9PiB7XG4gICAgICB2bS5tb2RpZnkoZGF0YSA9PiB7XG4gICAgICAgIGRhdGEubWluaV9zaXplID0gdHJ1ZVxuICAgICAgfSlcbiAgICAgIGNvbnN0IHBhdGggPSBhd2FpdCBwaWNrRWxlbWVudEJ5Q2xpY2soKVxuICAgICAgdm0ubW9kaWZ5KGRhdGEgPT4ge1xuICAgICAgICBkYXRhLmxpc3QucHVzaChwYXRoKVxuICAgICAgICBkYXRhLm1pbmlfc2l6ZSA9IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgdGVtcGxhdGU6IGRhdGEgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJidXR0b25cIiBkYXRhLW9uLWNsaWNrPVwidG9nZ2xlXCI+JHtkYXRhLm1pbmlfc2l6ZSA/ICcrJyA6ICctJ308L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudCAke2RhdGEubWluaV9zaXplID8gJ2hpZGRlbicgOiAnJ31cIj5cbiAgICAgIDxoMj4ke2RhdGEudGl0bGV9PC9oMj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLW9uLWNsaWNrPVwicGlja0VsZW1lbnRcIj7mjZXojrflhYPntKA8L2J1dHRvbj5cbiAgICAgIDx1bD5cbiAgICAgICAgJHtkYXRhLmxpc3QubWFwKGl0ZW0gPT4gYDxsaT4ke2l0ZW19PC9saT5gKS5qb2luKCcnKX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIGBcbn0pXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9pbmRleC50cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7OztBQUdBOzs7OztBQUtBOzs7Ozs7Ozs7Ozs7QUFZQTs7Ozs7QUFLQTs7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7OztBQUdBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!**************************!*\
  !*** ./src/simple-vm.ts ***!
  \**************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.event_map = {\r\n    click: 'mouseup',\r\n    change: 'focusout'\r\n};\r\nclass SimpleVM {\r\n    constructor({ el: _el, data, template, funcs }) {\r\n        const vm = this;\r\n        if (typeof _el === 'string') {\r\n            const el = document.getElementById(_el);\r\n            if (el) {\r\n                this.el = el;\r\n            }\r\n            else {\r\n                throw new Error('Cannot find element by id:' + _el);\r\n            }\r\n        }\r\n        else {\r\n            this.el = _el;\r\n        }\r\n        const el = this.el;\r\n        for (const alias_event_name in exports.event_map) {\r\n            const event_name = exports.event_map[alias_event_name];\r\n            el.addEventListener(event_name, function (event) {\r\n                let target = event.target;\r\n                while (target && target !== el) {\r\n                    const dataset_name = 'on' + alias_event_name.slice(0, 1).toUpperCase() + alias_event_name.slice(1);\r\n                    const func_name = target.dataset[dataset_name];\r\n                    if (func_name && vm.funcs[func_name]) {\r\n                        const func = vm.funcs[func_name];\r\n                        func(vm, target, event);\r\n                    }\r\n                    target = target.parentElement;\r\n                }\r\n            });\r\n        }\r\n        this.data = data;\r\n        this.template = template;\r\n        this.funcs = funcs;\r\n        this.render();\r\n    }\r\n    render() { this.el.innerHTML = this.template(this.data); }\r\n    modify(cb) { cb(this.data); this.render(); }\r\n}\r\nexports.SimpleVM = SimpleVM;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc2ltcGxlLXZtLnRzPzI4OWQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBjb25zdCBldmVudF9tYXAgPSB7XG4gIGNsaWNrOiAnbW91c2V1cCcsXG4gIGNoYW5nZTogJ2ZvY3Vzb3V0J1xufVxuXG5leHBvcnQgdHlwZSBDYWxsYmFja0Z1bmMgPSAodm06IFNpbXBsZVZNLCBlbDogSFRNTEVsZW1lbnQsIGV2ZW50OiBFdmVudCkgPT4gdm9pZFxuXG5leHBvcnQgaW50ZXJmYWNlIFZNT3B0cyB7XG4gIGVsOiBzdHJpbmcgfCBIVE1MRWxlbWVudFxuICBkYXRhOiBhbnlcbiAgdGVtcGxhdGU6IChkYXRhOiBhbnkpID0+IHN0cmluZ1xuICBmdW5jczogeyBbcHJvcE5hbWVzOiBzdHJpbmddOiBDYWxsYmFja0Z1bmMgfVxufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlVk0ge1xuICBwcml2YXRlIGVsOiBIVE1MRWxlbWVudFxuICBwcml2YXRlIGRhdGE6IGFueVxuICBwcml2YXRlIGZ1bmNzOiB7IFtwcm9wTmFtZXM6IHN0cmluZ106IENhbGxiYWNrRnVuYyB9XG4gIHByaXZhdGUgdGVtcGxhdGU6IChkYXRhKSA9PiBzdHJpbmdcblxuICBjb25zdHJ1Y3Rvcih7IGVsOiBfZWwsIGRhdGEsIHRlbXBsYXRlLCBmdW5jcyB9OiBWTU9wdHMpIHtcbiAgICBjb25zdCB2bSA9IHRoaXNcblxuICAgIGlmICh0eXBlb2YgX2VsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfZWwpXG4gICAgICBpZiAoZWwpIHsgdGhpcy5lbCA9IGVsIH0gZWxzZSB7IHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgZWxlbWVudCBieSBpZDonICsgX2VsKSB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWwgPSBfZWxcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuZWxcblxuICAgIGZvciAoY29uc3QgYWxpYXNfZXZlbnRfbmFtZSBpbiBldmVudF9tYXApIHtcbiAgICAgIGNvbnN0IGV2ZW50X25hbWUgPSBldmVudF9tYXBbYWxpYXNfZXZlbnRfbmFtZV1cblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldDogSFRNTEVsZW1lbnQgfCBudWxsID0gPEhUTUxFbGVtZW50PmV2ZW50LnRhcmdldFxuXG4gICAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgIGNvbnN0IGRhdGFzZXRfbmFtZSA9ICdvbicgKyBhbGlhc19ldmVudF9uYW1lLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBhbGlhc19ldmVudF9uYW1lLnNsaWNlKDEpXG4gICAgICAgICAgY29uc3QgZnVuY19uYW1lID0gdGFyZ2V0LmRhdGFzZXRbZGF0YXNldF9uYW1lXVxuICAgICAgICAgIGlmIChmdW5jX25hbWUgJiYgdm0uZnVuY3NbZnVuY19uYW1lXSkge1xuICAgICAgICAgICAgY29uc3QgZnVuYyA9IHZtLmZ1bmNzW2Z1bmNfbmFtZV1cbiAgICAgICAgICAgIGZ1bmModm0sIHRhcmdldCwgZXZlbnQpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEgPSBkYXRhXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlXG4gICAgdGhpcy5mdW5jcyA9IGZ1bmNzXG4gICAgdGhpcy5yZW5kZXIoKVxuICB9XG5cbiAgcmVuZGVyKCkgeyB0aGlzLmVsLmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGUodGhpcy5kYXRhKSB9XG4gIG1vZGlmeShjYjogKGRhdGEpID0+IHZvaWQpOiB2b2lkIHsgY2IodGhpcy5kYXRhKTsgdGhpcy5yZW5kZXIoKSB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9zaW1wbGUtdm0udHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBN0NBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!*******************************!*\
  !*** ./src/element-picker.ts ***!
  \*******************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils_1 = __webpack_require__(/*! ./utils */ 0);\r\nfunction getChildElementIndex(element) {\r\n    const { parentElement } = element;\r\n    if (!parentElement) {\r\n        throw new Error('Has not parent');\r\n    }\r\n    const { children } = parentElement;\r\n    for (let i = 0, l = children.length; i < l; i++) {\r\n        if (children[i] === element)\r\n            return i;\r\n    }\r\n    throw new Error('impossable');\r\n}\r\nfunction getElementPathTo(_element) {\r\n    let head = 'body';\r\n    let path = [];\r\n    const body = document.body;\r\n    const html = body.parentElement;\r\n    let element = _element;\r\n    while (true) {\r\n        const { parentElement, id } = element;\r\n        if (element === body) {\r\n            break;\r\n        }\r\n        if (element === html) {\r\n            head = 'html';\r\n            break;\r\n        }\r\n        if (id && id !== '') {\r\n            head = '#' + id;\r\n            break;\r\n        }\r\n        path.push(getChildElementIndex(element));\r\n        if (!parentElement) {\r\n            throw new Error('impossable');\r\n        }\r\n        element = parentElement;\r\n    }\r\n    path = path.reverse();\r\n    return [head, ...path].join('/');\r\n}\r\nexports.getElementPathTo = getElementPathTo;\r\nfunction getElementFromPath(element_path) {\r\n    const [head, ...path] = element_path.split('/');\r\n    let element;\r\n    if (head === 'body') {\r\n        element = document.body;\r\n    }\r\n    else if (head === 'html') {\r\n        element = document.body.parentElement;\r\n    }\r\n    else {\r\n        element = document.getElementById(head.replace('#', ''));\r\n    }\r\n    for (let i of path) {\r\n        element = element.children[i];\r\n        if (!element) {\r\n            throw new Error('Cannot find Element from path: ' + JSON.stringify(element_path));\r\n        }\r\n    }\r\n    return element;\r\n}\r\nexports.getElementFromPath = getElementFromPath;\r\nfunction pickElementByClick() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const _onclick = document.onclick;\r\n        const _onmousedown = document.onmousedown;\r\n        const _onmouseover = document.onmouseover;\r\n        const _onmouseout = document.onmouseout;\r\n        let _backgroundColor = null;\r\n        const promise = new Promise(resolve => {\r\n            document.onclick =\r\n                (event) => __awaiter(this, void 0, void 0, function* () {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                });\r\n            document.onmousedown =\r\n                (event) => __awaiter(this, void 0, void 0, function* () {\r\n                    const element = event.target;\r\n                    element.style.backgroundColor = _backgroundColor;\r\n                    resolve(event.target);\r\n                });\r\n        });\r\n        document.onmouseover = event => {\r\n            const element = event.target;\r\n            _backgroundColor = element.style.backgroundColor;\r\n            element.style.backgroundColor = \"yellow\";\r\n        };\r\n        document.onmouseout = event => {\r\n            const element = event.target;\r\n            element.style.backgroundColor = _backgroundColor;\r\n        };\r\n        const element = yield promise;\r\n        yield utils_1.wait(100); // 延迟事件\r\n        document.onclick = _onclick;\r\n        document.onmouseover = _onmouseover;\r\n        document.onmouseout = _onmouseout;\r\n        return getElementPathTo(element);\r\n    });\r\n}\r\nexports.pickElementByClick = pickElementByClick;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZWxlbWVudC1waWNrZXIudHM/NWY3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IHt3YWl0fSBmcm9tICcuL3V0aWxzJ1xuXG5cbmZ1bmN0aW9uIGdldENoaWxkRWxlbWVudEluZGV4KGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogbnVtYmVyIHtcbiAgY29uc3QgeyBwYXJlbnRFbGVtZW50IH0gPSBlbGVtZW50XG4gIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSGFzIG5vdCBwYXJlbnQnKVxuICB9XG4gIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHBhcmVudEVsZW1lbnRcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gPT09IGVsZW1lbnQpIHJldHVybiBpXG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdpbXBvc3NhYmxlJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRQYXRoVG8oX2VsZW1lbnQ6IEhUTUxFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGhlYWQ6IHN0cmluZyA9ICdib2R5J1xuICBsZXQgcGF0aDogbnVtYmVyW10gPSBbXVxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keVxuICBjb25zdCBodG1sID0gYm9keS5wYXJlbnRFbGVtZW50XG5cbiAgbGV0IGVsZW1lbnQgPSBfZWxlbWVudFxuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyBwYXJlbnRFbGVtZW50LCBpZCB9ID0gZWxlbWVudFxuICAgIGlmIChlbGVtZW50ID09PSBib2R5KSB7IGJyZWFrIH1cbiAgICBpZiAoZWxlbWVudCA9PT0gaHRtbCkgeyBoZWFkID0gJ2h0bWwnOyBicmVhayB9XG4gICAgaWYgKGlkICYmIGlkICE9PSAnJykgeyBoZWFkID0gJyMnICsgaWQ7IGJyZWFrIH1cbiAgICBwYXRoLnB1c2goZ2V0Q2hpbGRFbGVtZW50SW5kZXgoZWxlbWVudCkpXG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7IHRocm93IG5ldyBFcnJvcignaW1wb3NzYWJsZScpIH1cbiAgICBlbGVtZW50ID0gcGFyZW50RWxlbWVudFxuICB9XG5cbiAgcGF0aCA9IHBhdGgucmV2ZXJzZSgpXG4gIHJldHVybiBbaGVhZCwgLi4ucGF0aF0uam9pbignLycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RnJvbVBhdGgoZWxlbWVudF9wYXRoOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IFtoZWFkLCAuLi5wYXRoXSA9IGVsZW1lbnRfcGF0aC5zcGxpdCgnLycpXG4gIGxldCBlbGVtZW50XG5cbiAgaWYgKGhlYWQgPT09ICdib2R5Jykge1xuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5XG4gIH0gZWxzZSBpZiAoaGVhZCA9PT0gJ2h0bWwnKSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudFxuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWFkLnJlcGxhY2UoJyMnLCAnJykpXG4gIH1cblxuICBmb3IgKGxldCBpIG9mIHBhdGgpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5jaGlsZHJlbltpXVxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBFbGVtZW50IGZyb20gcGF0aDogJyArIEpTT04uc3RyaW5naWZ5KGVsZW1lbnRfcGF0aCkpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBpY2tFbGVtZW50QnlDbGljaygpIHtcbiAgY29uc3QgX29uY2xpY2sgPSBkb2N1bWVudC5vbmNsaWNrXG4gIGNvbnN0IF9vbm1vdXNlZG93biA9IGRvY3VtZW50Lm9ubW91c2Vkb3duXG4gIGNvbnN0IF9vbm1vdXNlb3ZlciA9IGRvY3VtZW50Lm9ubW91c2VvdmVyXG4gIGNvbnN0IF9vbm1vdXNlb3V0ID0gZG9jdW1lbnQub25tb3VzZW91dFxuXG4gIGxldCBfYmFja2dyb3VuZENvbG9yOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICBjb25zdCBwcm9taXNlOiBQcm9taXNlPEhUTUxFbGVtZW50PiA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGRvY3VtZW50Lm9uY2xpY2sgPVxuICAgICAgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB9XG4gICAgZG9jdW1lbnQub25tb3VzZWRvd24gPVxuICAgICAgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gX2JhY2tncm91bmRDb2xvclxuICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudClcbiAgICAgIH1cbiAgfSlcblxuICBkb2N1bWVudC5vbm1vdXNlb3ZlciA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgX2JhY2tncm91bmRDb2xvciA9IGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yXG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInllbGxvd1wiXG4gIH1cbiAgZG9jdW1lbnQub25tb3VzZW91dCA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfYmFja2dyb3VuZENvbG9yXG4gIH1cblxuICBjb25zdCBlbGVtZW50ID0gYXdhaXQgcHJvbWlzZVxuICBhd2FpdCB3YWl0KDEwMCkgLy8g5bu26L+f5LqL5Lu2XG5cbiAgZG9jdW1lbnQub25jbGljayA9IF9vbmNsaWNrXG4gIGRvY3VtZW50Lm9ubW91c2VvdmVyID0gX29ubW91c2VvdmVyXG4gIGRvY3VtZW50Lm9ubW91c2VvdXQgPSBfb25tb3VzZW91dFxuICByZXR1cm4gZ2V0RWxlbWVudFBhdGhUbyhlbGVtZW50KVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZWxlbWVudC1waWNrZXIudHMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBcEJBO0FBc0JBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUF0Q0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ })
/******/ ]);